2025-07-14 15:55:03.131 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-14 15:55:03.285 +05:30 [WRN] Overriding address(es) 'http://localhost:5009'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-07-14 15:55:03.300 +05:30 [INF] Now listening on: http://[::]:5011
2025-07-14 15:55:03.301 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-14 15:55:03.301 +05:30 [INF] Hosting environment: Development
2025-07-14 15:55:03.301 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-07-14 15:55:42.068 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5011/swagger/index.html - null null
2025-07-14 15:55:42.205 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5011/swagger/index.html - 200 null text/html;charset=utf-8 138.4855ms
2025-07-14 15:55:42.250 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5011/_framework/aspnetcore-browser-refresh.js - null null
2025-07-14 15:55:42.255 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5011/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 5.8136ms
2025-07-14 15:55:42.455 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5011/swagger/v1/swagger.json - null null
2025-07-14 15:55:42.621 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5011/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 165.7524ms
2025-07-14 15:56:01.793 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5011/api/v1/Auth/login - application/json 58
2025-07-14 15:56:01.832 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-14 15:56:01.883 +05:30 [INF] CORS policy execution failed.
2025-07-14 15:56:01.883 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-07-14 15:56:01.886 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-07-14 15:56:01.911 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-07-14 15:56:03.687 +05:30 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."PasswordUpdatedAt", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", b."Id", b."Budget", b."Phone", b."PreferredLocation"
FROM "Users" AS u
LEFT JOIN "Agents" AS a ON u."Id" = a."Id"
LEFT JOIN "Buyers" AS b ON u."Id" = b."Id"
WHERE NOT (u."IsDeleted")
2025-07-14 15:56:04.262 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."PasswordUpdatedAt", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", b."Id", b."Budget", b."Phone", b."PreferredLocation"
FROM "Users" AS u
LEFT JOIN "Agents" AS a ON u."Id" = a."Id"
LEFT JOIN "Buyers" AS b ON u."Id" = b."Id"
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-07-14 15:56:04.387 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-07-14 15:56:04.483 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-14 15:56:04.493 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-07-14 15:56:04.514 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 2598.5774ms
2025-07-14 15:56:04.514 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-07-14 15:56:04.525 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5011/api/v1/Auth/login - 200 null application/json; charset=utf-8 2731.7136ms
2025-07-14 15:59:58.574 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings - application/json 343
2025-07-14 15:59:58.648 +05:30 [INF] CORS policy execution failed.
2025-07-14 15:59:58.648 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-07-14 15:59:58.649 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-07-14 15:59:58.655 +05:30 [INF] Route matched with {action = "CreateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateListing(RealEstateApi.Models.DTOs.CreatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-07-14 16:00:05.842 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-14 16:00:05.861 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi) in 7206.1122ms
2025-07-14 16:00:05.862 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-07-14 16:00:05.862 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings - 400 null application/problem+json; charset=utf-8 7287.9203ms
2025-07-14 16:00:15.129 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings - application/json 342
2025-07-14 16:00:15.156 +05:30 [INF] CORS policy execution failed.
2025-07-14 16:00:15.157 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-07-14 16:00:15.157 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-07-14 16:00:15.157 +05:30 [INF] Route matched with {action = "CreateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateListing(RealEstateApi.Models.DTOs.CreatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-07-14 16:00:18.336 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-14 16:00:18.396 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."HasParking", p."IsDeleted", p."IsPetsAllowed", p."ListingType", p."Location", p."Price", p."PropertyType", p."SquareFeet", p."Status", p."Title", p."UpdatedAt", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."PasswordUpdatedAt", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."IsHardDeleted", p1."PropertyListingId", i."Id", i."AgentId", i."BuyerId", i."CreatedAt", i."ListingId", i."Message", i."Status"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."IsHardDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", u."Id", p1."Id"
2025-07-14 16:00:18.556 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?', @p10='?', @p11='?' (DbType = Double), @p12='?', @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyListings" ("Id", "AgentId", "Bathrooms", "Bedrooms", "CreatedAt", "Description", "HasParking", "IsDeleted", "IsPetsAllowed", "ListingType", "Location", "Price", "PropertyType", "SquareFeet", "Status", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-07-14 16:00:18.595 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-14 16:00:18.597 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-07-14 16:00:18.633 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi) in 3480.2131ms
2025-07-14 16:00:18.633 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-07-14 16:00:18.634 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings - 201 null application/json; charset=utf-8 3508.5072ms
2025-07-14 16:00:49.530 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - multipart/form-data; boundary=----WebKitFormBoundaryHKBT8wYajngMRRTN 27070
2025-07-14 16:00:49.535 +05:30 [INF] CORS policy execution failed.
2025-07-14 16:00:49.535 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-07-14 16:00:49.535 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-07-14 16:00:49.543 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-07-14 16:00:54.788 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-14 16:00:54.828 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."HasParking", s."IsDeleted", s."IsPetsAllowed", s."ListingType", s."Location", s."Price", s."PropertyType", s."SquareFeet", s."Status", s."Title", s."UpdatedAt", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", s."Id1", s."CreatedAt0", s."Email", s."IsDeleted0", s."Name", s."PasswordHash", s."PasswordUpdatedAt", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."UpdatedAt0", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."IsHardDeleted", p1."PropertyListingId", i."Id", i."AgentId", i."BuyerId", i."CreatedAt", i."ListingId", i."Message", i."Status"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."HasParking", p."IsDeleted", p."IsPetsAllowed", p."ListingType", p."Location", p."Price", p."PropertyType", p."SquareFeet", p."Status", p."Title", p."UpdatedAt", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone", u."Id" AS "Id1", u."CreatedAt" AS "CreatedAt0", u."Email", u."IsDeleted" AS "IsDeleted0", u."Name", u."PasswordHash", u."PasswordUpdatedAt", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt" AS "UpdatedAt0"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    INNER JOIN "Users" AS u ON a."Id" = u."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."IsHardDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", s."Id1", p1."Id"
2025-07-14 16:00:55.114 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "IsHardDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-07-14 16:00:55.117 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-14 16:00:55.117 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-07-14 16:00:55.118 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 5575.2933ms
2025-07-14 16:00:55.118 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-07-14 16:00:55.119 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - 200 null application/json; charset=utf-8 5589.829ms
2025-07-14 19:40:38.991 +05:30 [INF] Application is shutting down...
